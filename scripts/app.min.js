function Post(){}function PostsView(){$("body").append('<ul class="posts">')}function selectWuTangJake(){findWuTangJake.style.display="block",$("#greeting_brag_update").text(wuTangJake.greeting)}function selectSedatedJake(){findSedatedJake.style.display="block",$("#greeting_brag_update").text(sedatedJake.greeting)}function selectPithyJake(){findPithyJake.style.display="block",$("#greeting_brag_update").text(pithyJake.greeting)}function pickEnemy(){if(pickEnemyArray.length>0){var e=_.sample(pickEnemyArray);if($(".enemyName").text(e.name),enemyHealthStatus(e),e===wuTangJake)selectWuTangJake();else if(e===sedatedJake)selectSedatedJake();else{if(e!==pithyJake)return!0;selectPithyJake()}return pickEnemyArray=_.filter(pickEnemyArray,function(t){return t!==e}),e}youWon()}function youWon(){alert("YOU WON!!11!!11!!11")||window.location.reload()}function Player(e,t,a,n,r){this.name=e||"",this.currentHealth=t||10,this.maxHealth=a||10,this.currentPower=n||3,this.startingPower=r||3}function Enemy(e){this.name=e.name,this.greeting=e.greeting,this.damage=e.damage,this.brag=e.brag,this.currentHealth=e.currentHealth,this.maxHealth=e.maxHealth,this.currentPower=e.currentPower,this.startingPower=e.startingPower}function enemyHealthStatus(e){$(".enemyHealthNumber").text(e.currentHealth).append(' <img src="../templates/assets/img/life_heart.png">')}function basicPunch(e,t){var a=e.currentPower+Math.round(5*Math.random());t.currentHealth=t.currentHealth-a,t.currentHealth<0&&(t.currentHealth=0),enemyHealthStatus(t),$("#player_attack_update").text(e.name+" punched "+t.name+" for "+a+" damage"),enemyHealthCheck(e,t)}function criticalPunch(e,t){var a=e.currentPower+Math.round(2*Math.random()+5);t.currentHealth=t.currentHealth-a,t.currentHealth<0&&(t.currentHealth=0),enemyHealthStatus(t),$("#player_attack_update").text("CCCCCCOMBO BREAKER!!! "+e.name+" punched "+t.name+" for "+a+" damage"),enemyHealthCheck(e,t)}function basicKick(e,t){var a=Math.round(1*e.currentPower)+Math.round(15*Math.random()-5);t.currentHealth=t.currentHealth-a,t.currentHealth<0&&(t.currentHealth=0),enemyHealthStatus(t),$("#player_attack_update").text(e.name+" kicked "+t.name+" for "+a+" damage"),enemyHealthCheck(e,t)}function criticalKick(e,t){var a=Math.round(1*e.currentPower)+Math.round(2*Math.random()+10);t.currentHealth=t.currentHealth-a,t.currentHealth<0&&(t.currentHealth=0),enemyHealthStatus(t),$("#player_attack_update").text("CCCCCCOMBO BREAKER!!! "+e.name+" kicked "+t.name+" for "+a+" damage"),enemyHealthCheck(e,t)}function basicPotion(e,t){e.currentHealth=e.currentHealth+8,e.currentHealth>e.maxHealth&&(e.currentHealth=e.maxHealth),attackerHealthStatus(e),$("#player_attack_update").text(e.name+" used a potion and gained 8 health"),enemyHealthCheck(e,t)}function criticalPotion(e,t){e.currentHealth=e.currentHealth+12,attackerHealthStatus(e),$("#player_attack_update").text("CCCCCCOMBO BREAKER!!! "+e.name+" used a potion and gained 12 health"),enemyHealthCheck(e,t)}function basicIncreaseAttack(e,t){e.currentPower=e.currentPower+2,$("#player_attack_update").text(e.name+"'s attack increased"),enemyHealthCheck(e,t)}function criticalIncreaseAttack(e,t){e.currentPower=e.currentPower+4,$("#player_attack_update").text(e.name+"'s attack increased"),enemyHealthCheck(e,t)}function attackerHealthStatus(e){$(".playerHealthNumber").text(e.currentHealth).append(' <img src="../templates/assets/img/life_heart.png">')}function enemyAttack(e,t){$("#greeting_brag_update").text(t.brag);var a=Math.random();.25>a?enemyPunchRandomizer(e,t):.5>a?enemyKickRandomizer(e,t):.75>a?enemyPotionRandomizer(e,t):enemyIncreaseAttackRandomizer(e,t)}function enemyPunchRandomizer(e,t){actionImage.css({"background-image":"url(../templates/assets/img/zam.png)",display:"block"}),Math.random()>.25?enemyBasicPunch(e,t):enemyCriticalPunch(e,t)}function enemyBasicPunch(e,t){var a=t.currentPower+Math.round(5*Math.random());e.currentHealth=e.currentHealth-a,e.currentHealth<0&&(e.currentHealth=0),attackerHealthStatus(e),$("#enemy_attack_update").text(t.name+" punched "+e.name+" for "+a+" damage."),playerHealthCheck(e,t)}function enemyCriticalPunch(e,t){var a=t.currentPower+Math.round(2*Math.random()+5);e.currentHealth=e.currentHealth-a,e.currentHealth<0&&(e.currentHealth=0),attackerHealthStatus(e),$("#enemy_attack_update").text("CCCCCCOMBO BREAKER!!! "+t.name+" punched "+e.name+" for "+a+" damage."),playerHealthCheck(e,t)}function enemyKickRandomizer(e,t){actionImage.css({"background-image":"url(../templates/assets/img/pow.png)",display:"block"}),Math.random()>.25?enemyBasicKick(e,t):enemyCriticalKick(e,t)}function enemyBasicKick(e,t){var a=Math.round(1*t.currentPower)+Math.round(15*Math.random()-5);e.currentHealth=e.currentHealth-a,e.currentHealth<0&&(e.currentHealth=0),attackerHealthStatus(e),$("#enemy_attack_update").text(t.name+" kicked "+e.name+" for "+a+" damage."),playerHealthCheck(e,t)}function enemyCriticalKick(e,t){var a=Math.round(1*t.currentPower)+Math.round(2*Math.random()+10);e.currentHealth=e.currentHealth-a,e.currentHealth<0&&(e.currentHealth=0),attackerHealthStatus(e),$("#enemy_attack_update").text("CCCCCCOMBO BREAKER!!! "+t.name+" kicked "+e.name+" for "+a+" damage."),playerHealthCheck(e,t)}function enemyPotionRandomizer(e,t){enemyBuff.css({"background-image":"url(../templates/assets/img/potion.png)",display:"block"}),Math.random()>.25?enemyBasicPotion(e,t):enemyCriticalPotion(e,t)}function enemyBasicPotion(e,t){t.currentHealth=t.currentHealth+8,t.currentHealth>t.maxHealth&&(t.currentHealth=t.maxHealth),enemyHealthStatus(t),$("#enemy_attack_update").text(t.name+" used a potion and gained 8 health"),playerHealthCheck(e,t)}function enemyCriticalPotion(e,t){t.currentHealth=t.currentHealth+12,enemyHealthStatus(t),$("#enemy_attack_update").text("CCCCCCOMBO BREAKER!!! "+t.name+" used a potion and gained 12 health"),playerHealthCheck(e,t)}function enemyIncreaseAttackRandomizer(e,t){enemyBuff.css({"background-image":"url(../templates/assets/img/attack.png)",display:"block"}),Math.random()>.25?enemyBasicIncreaseAttack(e,t):enemyCriticalIncreaseAttack(e,t)}function enemyBasicIncreaseAttack(e,t){t.currentPower=t.currentPower+2,$("#enemy_attack_update").text(t.name+"'s attack increased"),playerHealthCheck(e,t)}function enemyCriticalIncreaseAttack(e,t){t.currentPower=t.currentPower+4,$("#enemy_attack_update").text(t.name+"'s attack increased"),playerHealthCheck(e,t)}function enemyHealthCheck(e,t){t.currentHealth>0?(setTimeout(function(){actionImage.css({display:"none"}),heroBuff.css({display:"none"}),enemyBuff.css({display:"none"})},750),setTimeout(function(){enemyAttack(e,t)},1e3)):(setTimeout(function(){actionImage.css({display:"none"}),heroBuff.css({display:"none"}),enemyBuff.css({display:"none"})},750),$(".enemyDisplay").fadeOut(3e3,function(){}),setTimeout(function(){alert("Congratulations! You defeated "+t.name)},750),e.currentHealth=e.maxHealth,attackerHealthStatus(e),setTimeout(function(){currentEnemy=pickEnemy()},2e3))}function playerHealthCheck(e,t){setTimeout(function(){actionImage.css({display:"none"}),heroBuff.css({display:"none"}),enemyBuff.css({display:"none"})},750),e.currentHealth<=0&&(alert("Game over!!")||window.location.reload(),t.currentPower=t.startingPower)}function heroJake(e){hero=jake,attackerHealthStatus(jake),findJake.style.display="block",$(".playerName").text("Jake")}function heroFaith(e){hero=faith,attackerHealthStatus(faith),findFaith.style.display="block",$(".playerName").text("Faith")}function heroJoel(e){hero=joel,attackerHealthStatus(joel),findJoel.style.display="block",$(".playerName").text("Joel")}this.JST=this.JST||{},this.JST.application=Handlebars.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,a,n){return"\n"},useData:!0}),Post.fetch=function(){return new $.ajax("http://tiny-lasagna-server.herokuapp.com/collections/posts").then(function(e){return $(document).trigger("posts:fetched",[e]),e})},window.Post=Post,PostsView.prototype.showPosts=function(e){e.forEach(function(e){$(".posts").append("<li><h1>"+e.title+"</h1><p>"+e.body+"</p></li>")})},window.PostsView=PostsView,$(document).ready(function(){$("body").prepend(JST.application()),$(".actionButton").prop("disabled",!0)});var faith=new Player("Faith",100,100,10,10),joel=new Player("Joel",120,120,8,8),jake=new Player("Jake",80,80,12,12),findJake=document.getElementById("playerDisplayJake"),findFaith=document.getElementById("playerDisplayFaith"),findJoel=document.getElementById("playerDisplayJoel"),findWuTangJake=document.getElementById("enemyDisplayWutangJake"),findSedatedJake=document.getElementById("enemyDisplaySedatedJake"),findPithyJake=document.getElementById("enemyDisplayPithyJake"),actionImage=$(".actionPopup"),heroBuff=$(".heroBuff"),enemyBuff=$(".enemyBuff"),wuTangJake=new Enemy({name:"Wu-Tang Jake",greeting:"May the Wu be with you.",brag:"Wu Tang Jake ain't nothing to mess with!",currentHealth:90,maxHealth:90,currentPower:9,startingPower:9}),pithyJake=new Enemy({name:"Pithy Jake",greeting:"No judgements here",brag:"I told you to follow your heart...not lose your head!",currentHealth:110,maxHealth:110,currentPower:7,startingPower:7}),sedatedJake=new Enemy({name:"Sedated Jake",greeting:"Sorry I'm late, I just woke up.  Prepare to die.",brag:"I can't believe I got out of bed for this.",currentHealth:70,maxHealth:70,currentPower:12,startingPower:12}),pickEnemyArray=[wuTangJake,sedatedJake,pithyJake],hero,currentEnemy;Player.prototype.punch=function(e){var t=this,a=e;actionImage.css({"background-image":"url(../templates/assets/img/boom.png)",display:"block"}),$("#enemy_attack_update").text(""),Math.random()>.25?basicPunch(t,a):criticalPunch(t,a)},Player.prototype.kick=function(e){var t=this,a=e;actionImage.css({"background-image":"url(../templates/assets/img/kapow.png)",display:"block"}),$("#enemy_attack_update").text(""),Math.random()>.25?basicKick(t,a):criticalKick(t,a)},Player.prototype.potion=function(e){var t=this,a=e;heroBuff.css({"background-image":"url(../templates/assets/img/potion.png)",display:"block"}),$("#enemy_attack_update").text(""),Math.random()>.25?basicPotion(t,a):criticalPotion(t,a)},Player.prototype.increaseAttack=function(e){var t=this,a=e;heroBuff.css({"background-image":"url(../templates/assets/img/attack.png)",display:"block"}),$("#enemy_attack_update").text(""),Math.random()>.25?basicIncreaseAttack(t,a):criticalIncreaseAttack(t,a)},$(".punchButton").on("click",function(){hero.punch(currentEnemy)}),$(".kickButton").on("click",function(){hero.kick(currentEnemy)}),$(".potionButton").on("click",function(){hero.potion(currentEnemy)}),$(".increaseAttackButton").on("click",function(){hero.increaseAttack(currentEnemy)}),$(".actionButton").click(function(){$(".actionButton").prop("disabled",!0),setTimeout(function(){$(".actionButton").prop("disabled",!1)},1850)}),$("#playerList").on("change",function(){if(value=$(this).val(),"0"!==value)if($(".pop_up_console_screen").fadeOut("slow",function(){}),$(".pop_up_console").fadeOut("slow",function(){}),$(".actionButton").prop("disabled",!1),currentEnemy=pickEnemy(),"selectJake"===value)heroJake(jake);else if("selectFaith"===value)heroFaith(faith);else{if("selectJoel"!==value)return"";heroJoel(joel)}});